{"ast":null,"code":"import { _ as _createClass, a as _classCallCheck } from '../../_rollupPluginBabelHelpers-b054ecd2.js';\nimport { DIRECTION } from '../../core/utils.js';\nimport '../../core/change-details.js';\n\nvar PatternCursor = /*#__PURE__*/function () {\n  function PatternCursor(masked, pos) {\n    _classCallCheck(this, PatternCursor);\n\n    this.masked = masked;\n    this._log = [];\n\n    var _ref = masked._mapPosToBlock(pos) || (pos < 0 ? // first\n    {\n      index: 0,\n      offset: 0\n    } : // last\n    {\n      index: this.masked._blocks.length,\n      offset: 0\n    }),\n        offset = _ref.offset,\n        index = _ref.index;\n\n    this.offset = offset;\n    this.index = index;\n    this.ok = false;\n  }\n\n  _createClass(PatternCursor, [{\n    key: \"block\",\n    get: function get() {\n      return this.masked._blocks[this.index];\n    }\n  }, {\n    key: \"pos\",\n    get: function get() {\n      return this.masked._blockStartPos(this.index) + this.offset;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        index: this.index,\n        offset: this.offset,\n        ok: this.ok\n      };\n    },\n    set: function set(s) {\n      Object.assign(this, s);\n    }\n  }, {\n    key: \"pushState\",\n    value: function pushState() {\n      this._log.push(this.state);\n    }\n  }, {\n    key: \"popState\",\n    value: function popState() {\n      var s = this._log.pop();\n\n      this.state = s;\n      return s;\n    }\n  }, {\n    key: \"bindBlock\",\n    value: function bindBlock() {\n      if (this.block) return;\n\n      if (this.index < 0) {\n        this.index = 0;\n        this.offset = 0;\n      }\n\n      if (this.index >= this.masked._blocks.length) {\n        this.index = this.masked._blocks.length - 1;\n        this.offset = this.block.value.length;\n      }\n    }\n  }, {\n    key: \"_pushLeft\",\n    value: function _pushLeft(fn) {\n      this.pushState();\n\n      for (this.bindBlock(); 0 <= this.index; --this.index, this.offset = ((_this$block = this.block) === null || _this$block === void 0 ? void 0 : _this$block.value.length) || 0) {\n        var _this$block;\n\n        if (fn()) return this.ok = true;\n      }\n\n      return this.ok = false;\n    }\n  }, {\n    key: \"_pushRight\",\n    value: function _pushRight(fn) {\n      this.pushState();\n\n      for (this.bindBlock(); this.index < this.masked._blocks.length; ++this.index, this.offset = 0) {\n        if (fn()) return this.ok = true;\n      }\n\n      return this.ok = false;\n    }\n  }, {\n    key: \"pushLeftBeforeFilled\",\n    value: function pushLeftBeforeFilled() {\n      var _this = this;\n\n      return this._pushLeft(function () {\n        if (_this.block.isFixed || !_this.block.value) return;\n        _this.offset = _this.block.nearestInputPos(_this.offset, DIRECTION.FORCE_LEFT);\n        if (_this.offset !== 0) return true;\n      });\n    }\n  }, {\n    key: \"pushLeftBeforeInput\",\n    value: function pushLeftBeforeInput() {\n      var _this2 = this; // cases:\n      // filled input: 00|\n      // optional empty input: 00[]|\n      // nested block: XX<[]>|\n\n\n      return this._pushLeft(function () {\n        if (_this2.block.isFixed) return;\n        _this2.offset = _this2.block.nearestInputPos(_this2.offset, DIRECTION.LEFT);\n        return true;\n      });\n    }\n  }, {\n    key: \"pushLeftBeforeRequired\",\n    value: function pushLeftBeforeRequired() {\n      var _this3 = this;\n\n      return this._pushLeft(function () {\n        if (_this3.block.isFixed || _this3.block.isOptional && !_this3.block.value) return;\n        _this3.offset = _this3.block.nearestInputPos(_this3.offset, DIRECTION.LEFT);\n        return true;\n      });\n    }\n  }, {\n    key: \"pushRightBeforeFilled\",\n    value: function pushRightBeforeFilled() {\n      var _this4 = this;\n\n      return this._pushRight(function () {\n        if (_this4.block.isFixed || !_this4.block.value) return;\n        _this4.offset = _this4.block.nearestInputPos(_this4.offset, DIRECTION.FORCE_RIGHT);\n        if (_this4.offset !== _this4.block.value.length) return true;\n      });\n    }\n  }, {\n    key: \"pushRightBeforeInput\",\n    value: function pushRightBeforeInput() {\n      var _this5 = this;\n\n      return this._pushRight(function () {\n        if (_this5.block.isFixed) return; // const o = this.offset;\n\n        _this5.offset = _this5.block.nearestInputPos(_this5.offset, DIRECTION.NONE); // HACK cases like (STILL DOES NOT WORK FOR NESTED)\n        // aa|X\n        // aa<X|[]>X_    - this will not work\n        // if (o && o === this.offset && this.block instanceof PatternInputDefinition) continue;\n\n        return true;\n      });\n    }\n  }, {\n    key: \"pushRightBeforeRequired\",\n    value: function pushRightBeforeRequired() {\n      var _this6 = this;\n\n      return this._pushRight(function () {\n        if (_this6.block.isFixed || _this6.block.isOptional && !_this6.block.value) return; // TODO check |[*]XX_\n\n        _this6.offset = _this6.block.nearestInputPos(_this6.offset, DIRECTION.NONE);\n        return true;\n      });\n    }\n  }]);\n\n  return PatternCursor;\n}();\n\nexport { PatternCursor as default };","map":{"version":3,"names":["_","_createClass","a","_classCallCheck","DIRECTION","PatternCursor","masked","pos","_log","_ref","_mapPosToBlock","index","offset","_blocks","length","ok","key","get","_blockStartPos","set","s","Object","assign","value","pushState","push","state","popState","pop","bindBlock","block","_pushLeft","fn","_this$block","_pushRight","pushLeftBeforeFilled","_this","isFixed","nearestInputPos","FORCE_LEFT","pushLeftBeforeInput","_this2","LEFT","pushLeftBeforeRequired","_this3","isOptional","pushRightBeforeFilled","_this4","FORCE_RIGHT","pushRightBeforeInput","_this5","NONE","pushRightBeforeRequired","_this6","default"],"sources":["/home/suraphelm/Projects/demo/Myproject/react/starter/01-starting-setup/node_modules/imask/esm/masked/pattern/cursor.js"],"sourcesContent":["import { _ as _createClass, a as _classCallCheck } from '../../_rollupPluginBabelHelpers-b054ecd2.js';\nimport { DIRECTION } from '../../core/utils.js';\nimport '../../core/change-details.js';\n\nvar PatternCursor = /*#__PURE__*/function () {\n  function PatternCursor(masked, pos) {\n    _classCallCheck(this, PatternCursor);\n\n    this.masked = masked;\n    this._log = [];\n\n    var _ref = masked._mapPosToBlock(pos) || (pos < 0 ? // first\n    {\n      index: 0,\n      offset: 0\n    } : // last\n    {\n      index: this.masked._blocks.length,\n      offset: 0\n    }),\n        offset = _ref.offset,\n        index = _ref.index;\n\n    this.offset = offset;\n    this.index = index;\n    this.ok = false;\n  }\n\n  _createClass(PatternCursor, [{\n    key: \"block\",\n    get: function get() {\n      return this.masked._blocks[this.index];\n    }\n  }, {\n    key: \"pos\",\n    get: function get() {\n      return this.masked._blockStartPos(this.index) + this.offset;\n    }\n  }, {\n    key: \"state\",\n    get: function get() {\n      return {\n        index: this.index,\n        offset: this.offset,\n        ok: this.ok\n      };\n    },\n    set: function set(s) {\n      Object.assign(this, s);\n    }\n  }, {\n    key: \"pushState\",\n    value: function pushState() {\n      this._log.push(this.state);\n    }\n  }, {\n    key: \"popState\",\n    value: function popState() {\n      var s = this._log.pop();\n\n      this.state = s;\n      return s;\n    }\n  }, {\n    key: \"bindBlock\",\n    value: function bindBlock() {\n      if (this.block) return;\n\n      if (this.index < 0) {\n        this.index = 0;\n        this.offset = 0;\n      }\n\n      if (this.index >= this.masked._blocks.length) {\n        this.index = this.masked._blocks.length - 1;\n        this.offset = this.block.value.length;\n      }\n    }\n  }, {\n    key: \"_pushLeft\",\n    value: function _pushLeft(fn) {\n      this.pushState();\n\n      for (this.bindBlock(); 0 <= this.index; --this.index, this.offset = ((_this$block = this.block) === null || _this$block === void 0 ? void 0 : _this$block.value.length) || 0) {\n        var _this$block;\n\n        if (fn()) return this.ok = true;\n      }\n\n      return this.ok = false;\n    }\n  }, {\n    key: \"_pushRight\",\n    value: function _pushRight(fn) {\n      this.pushState();\n\n      for (this.bindBlock(); this.index < this.masked._blocks.length; ++this.index, this.offset = 0) {\n        if (fn()) return this.ok = true;\n      }\n\n      return this.ok = false;\n    }\n  }, {\n    key: \"pushLeftBeforeFilled\",\n    value: function pushLeftBeforeFilled() {\n      var _this = this;\n\n      return this._pushLeft(function () {\n        if (_this.block.isFixed || !_this.block.value) return;\n        _this.offset = _this.block.nearestInputPos(_this.offset, DIRECTION.FORCE_LEFT);\n        if (_this.offset !== 0) return true;\n      });\n    }\n  }, {\n    key: \"pushLeftBeforeInput\",\n    value: function pushLeftBeforeInput() {\n      var _this2 = this;\n\n      // cases:\n      // filled input: 00|\n      // optional empty input: 00[]|\n      // nested block: XX<[]>|\n      return this._pushLeft(function () {\n        if (_this2.block.isFixed) return;\n        _this2.offset = _this2.block.nearestInputPos(_this2.offset, DIRECTION.LEFT);\n        return true;\n      });\n    }\n  }, {\n    key: \"pushLeftBeforeRequired\",\n    value: function pushLeftBeforeRequired() {\n      var _this3 = this;\n\n      return this._pushLeft(function () {\n        if (_this3.block.isFixed || _this3.block.isOptional && !_this3.block.value) return;\n        _this3.offset = _this3.block.nearestInputPos(_this3.offset, DIRECTION.LEFT);\n        return true;\n      });\n    }\n  }, {\n    key: \"pushRightBeforeFilled\",\n    value: function pushRightBeforeFilled() {\n      var _this4 = this;\n\n      return this._pushRight(function () {\n        if (_this4.block.isFixed || !_this4.block.value) return;\n        _this4.offset = _this4.block.nearestInputPos(_this4.offset, DIRECTION.FORCE_RIGHT);\n        if (_this4.offset !== _this4.block.value.length) return true;\n      });\n    }\n  }, {\n    key: \"pushRightBeforeInput\",\n    value: function pushRightBeforeInput() {\n      var _this5 = this;\n\n      return this._pushRight(function () {\n        if (_this5.block.isFixed) return; // const o = this.offset;\n\n        _this5.offset = _this5.block.nearestInputPos(_this5.offset, DIRECTION.NONE); // HACK cases like (STILL DOES NOT WORK FOR NESTED)\n        // aa|X\n        // aa<X|[]>X_    - this will not work\n        // if (o && o === this.offset && this.block instanceof PatternInputDefinition) continue;\n\n        return true;\n      });\n    }\n  }, {\n    key: \"pushRightBeforeRequired\",\n    value: function pushRightBeforeRequired() {\n      var _this6 = this;\n\n      return this._pushRight(function () {\n        if (_this6.block.isFixed || _this6.block.isOptional && !_this6.block.value) return; // TODO check |[*]XX_\n\n        _this6.offset = _this6.block.nearestInputPos(_this6.offset, DIRECTION.NONE);\n        return true;\n      });\n    }\n  }]);\n\n  return PatternCursor;\n}();\n\nexport { PatternCursor as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}